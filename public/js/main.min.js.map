{"version":3,"sources":["main.js"],"names":["numberWithCommas","x","parts","toString","split","replace","join","window","jsPDF","jspdf","html2canvas","$","test","navigator","userAgent","rangeTicksArr","index","push","each","value","this","data","slider","min","step","range","handle","tooltip","ticks_snap_bounds","ticks","ticks_labels","rangeTicksArr_age","rangeTicksArr_big","getElementById","genderChart","Chart","labels","backgroundColor","borderWidth","options","plugins","legend","display","ctx_age","ageChart","ctx_gender","document","getContext","datasets","ctx_residence","residenceChart","type","ctx_marital","maritalChart","colorArray","ajax","url","dataType","success","console","genderLabels","genderValues","maxGenderName","maxGenderIndex","maxGenderVal","genderTotal","genderMaxPerc","$gender_resultTitle","ageLabels","Object","keys","gender","maxAgeName","maxAgeVal","ageValues","maxAgeIndex","reduce","update","ageMaxPerc","ageTotal","iMax","i","arr","find","$age_resultTitle","addClass","a","b","toFixed","residenceValues","maxResidenceVal","maxResidenceIndex","html","$residence_resultTitle","residenceMaxPerc","age","maxResidenceName","residenceLabels","residence","maritalLabels","marital_status","maritalValues","maxMaritalIndex","maxMaritalName","$marital_resultTitle","error","timeoutHandler","hasClass","preventDefault","clearTimeout","clearHeaderAnimation","parent","openHeaderDropdown","toggleHeaderPanel","closeHeaderDropdown","removeClass","number","values","transition","transform","maritalMaxPerc","opacity","setTimeout","concat","css","scrollTop","stepperStep","privacy_agreed","personal_data_agreed","innerHeight","$stepBullets","pageYOffset","on","e","closest","stickyHeader","log","toggleClass","slideToggle","val","openStep1","openStep2","openStep3","validate","location","closePopup","isMobilePlatform","eq","validated","f_phone","f_marital_status","fadeOut","is","lang","f_children","f_dependent","f_salary","AN_salary","AutoNumeric","getAutoNumericElement","salary_val","f_other_income","AN_other_income","f_savings","AN_savings","savings_val","f_insurance_covers","f_expenses","expenses_val","getNumber","AN_expenses","f_loans","AN_loans","loans_val","f_insurance_cost","AN_insurance_cost","f_spouse_monthly_payment","spouse_monthly_payment_val","AN_spouse_monthly_payment","f_gender","f_spouse_payment_years","f_spouse_yearly_payment","f_child_monthly_payment","AN_child_monthly_payment","child_monthly_payment_val","f_child_yearly_payment","AN_dependents_monthly_payment","dependents_monthly_payment_val","f_dependents_payment_years","f_dependents_yearly_payment","result","insurance_covers_val","isNaN","alert","f_residence","f_life_insuranced","validate1","f_name","other_income_val","$input","max","$numberRangeWrap","$customRange","$numberListWrap","length","itemsString","$parent","f_child_payment_years","f_dependents_monthly_payment","$range","$list","ANObj","Number","$number","$currencyRangeWrap","get","focus","attr","name","f_age","phone","children","dependents","salary","other_income","savings","insurance_covers","expenses","loans","insurance_cost","spouse_monthly_payment","spouse_payment_years","dependents_monthly_payment","dependents_payment_years","total","method","_objectSpread","requestObj","theEvent","key","requestId","request_id","uniqueId","unique_id","regex","allowDecimalPadding","currencySymbol","calculate","id","req_url","jQuery","getInTouch_sent","fadeIn","target","currentTarget","icon","evt","event","clipboardData","getData","keyCode","which","String","fromCharCode","returnValue","multiple","currencySymbolPlacement","watchExternalChanges","selectOnFocus"],"mappings":"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UC,EAAmBnI,KAAK,oBAC9BwD,IAAIxH,GACZkM,EAAQE,IAAI,GAAGC,aAMvB7M,EAAE,qBAAqByH,GAAG,iBAAkB,SAAU4H,GAEpD,IAAIlB,EAAWkB,GAAOzP,OAAO0P,MAEzBlB,EAAM,KAGRA,EADoB,UAAlBD,EAAS3L,KACL8M,MAAMC,cAAcC,QAAQ,eAGlCpB,EAAMD,EAASsB,SAAWtB,EAASuB,MAC7BC,OAAOC,aAAaxB,IAEhB,eACDnO,KAAKmO,KACdD,EAAS0B,aAAc,EACnB1B,EAASlI,gBAAgBkI,EAASlI,oBAKrBkD,YAAY2G,SAAS,kBAAmB,CAC3D,+BACA,CACEpB,oBAAqB,SACrBC,eAAgB,OAChBoB,wBAAyB,IACzBC,sBAAsB,EACtBC,eAAe,OA/5DvB,CAq6DGlB,QAQH,IAAIpM,WAAa,CAEf,UACA,UACA,UACA,UACA,UACA,UACA,WACA,UACA,UACA,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA","file":"main.min.js","sourcesContent":["// Range slider plugin - https://www.jqueryscript.net/form/Highly-Customizable-Range-Slider-Plugin-For-Bootstrap-Bootstrap-Slider.html\r\n\r\n// jsPDF Dependencies\r\nwindow.jsPDF = window.jspdf.jsPDF;\r\nwindow.html2canvas = html2canvas;\r\n\r\n(function ($) {\r\n  // Document ready\r\n  $(function () {\r\n    let isMobilePlatform = false;\r\n    if (\r\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent,\r\n      )\r\n    ) {\r\n      // true for mobile device\r\n      isMobilePlatform = true;\r\n    } else {\r\n      // false for not mobile device\r\n    }\r\n\r\n    // Init currency range slider\r\n    let rangeTicksArr = [];\r\n    for (let index = 0; index <= 100000000; ) {\r\n      rangeTicksArr.push(index);\r\n      index += 10000000;\r\n    }\r\n    $(\".custom-range-input__currency\").each(function () {\r\n      const min = $(this).data(\"bslider-min\");\r\n      const value = $(this).data(\"bslider-value\");\r\n\r\n      $(this).slider({\r\n        min: min || null,\r\n        // max: 1000000,\r\n        step: 50000,\r\n        value: value || 0,\r\n        handle: \"square\",\r\n        range: false,\r\n        tooltip: \"hide\",\r\n        ticks_snap_bounds: 1000000,\r\n        ticks: rangeTicksArr,\r\n        ticks_labels: [\r\n          \"0\",\r\n          \"10M\",\r\n          \"20M\",\r\n          \"30M\",\r\n          \"40M\",\r\n          \"50M\",\r\n          \"60M\",\r\n          \"70M\",\r\n          \"80M\",\r\n          \"90M\",\r\n          \"100M\",\r\n        ],\r\n      });\r\n    });\r\n    // Init age range slider\r\n    let rangeTicksArr_age = [];\r\n    for (let index = 0; index <= 100; ) {\r\n      rangeTicksArr_age.push(index);\r\n      index += 10;\r\n    }\r\n    $(\".custom-range-input__age\").each(function () {\r\n      const min = $(this).data(\"bslider-min\");\r\n      const value = $(this).data(\"bslider-value\");\r\n\r\n      $(this).slider({\r\n        min: min || null,\r\n        step: 1,\r\n        value: value || 0,\r\n        handle: \"square\",\r\n        range: false,\r\n        tooltip: \"hide\",\r\n        ticks_snap_bounds: 0,\r\n        ticks: rangeTicksArr_age,\r\n        ticks_labels: [\r\n          \"0\",\r\n          \"10\",\r\n          \"20\",\r\n          \"30\",\r\n          \"40\",\r\n          \"50\",\r\n          \"60\",\r\n          \"70\",\r\n          \"80\",\r\n          \"90\",\r\n          \"100\",\r\n        ],\r\n      });\r\n    });\r\n    // Init big currency range slider\r\n    let rangeTicksArr_big = [];\r\n    for (let index = 0; index <= 1000000000; ) {\r\n      rangeTicksArr_big.push(index);\r\n      index += 100000000;\r\n    }\r\n    $(\".custom-range-input__currency-big\").each(function () {\r\n      const min = $(this).data(\"bslider-min\");\r\n      const value = $(this).data(\"bslider-value\");\r\n\r\n      $(this).slider({\r\n        min: min || null,\r\n        // max: 1000000,\r\n        step: 50000,\r\n        value: value || 0,\r\n        handle: \"square\",\r\n        range: false,\r\n        tooltip: \"hide\",\r\n        ticks_snap_bounds: 10000000,\r\n        ticks: rangeTicksArr_big,\r\n        ticks_labels: [\r\n          \"0\",\r\n          \"100M\",\r\n          \"200M\",\r\n          \"300M\",\r\n          \"400M\",\r\n          \"500M\",\r\n          \"600M\",\r\n          \"700M\",\r\n          \"800M\",\r\n          \"900M\",\r\n          \"1B\",\r\n        ],\r\n      });\r\n    });\r\n\r\n    // Charts\r\n    var ctx_gender = document.getElementById(\"genderChart\").getContext(\"2d\");\r\n    var genderChart = new Chart(ctx_gender, {\r\n      type: \"doughnut\",\r\n      data: {\r\n        // labels: [\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\"],\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            // data: [12, 19, 3, 5, 2, 3],\r\n            data: [],\r\n            backgroundColor: colorArray,\r\n            borderWidth: 0,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        plugins: {\r\n          legend: {\r\n            display: false,\r\n          },\r\n        },\r\n      },\r\n    });\r\n    var ctx_age = document.getElementById(\"ageChart\").getContext(\"2d\");\r\n    var ageChart = new Chart(ctx_age, {\r\n      type: \"doughnut\",\r\n      data: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            data: [],\r\n            backgroundColor: colorArray,\r\n            borderWidth: 0,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        plugins: {\r\n          legend: {\r\n            display: false,\r\n          },\r\n        },\r\n      },\r\n    });\r\n    var ctx_residence = document\r\n      .getElementById(\"residenceChart\")\r\n      .getContext(\"2d\");\r\n    var residenceChart = new Chart(ctx_residence, {\r\n      type: \"doughnut\",\r\n      data: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            data: [],\r\n            backgroundColor: colorArray,\r\n            borderWidth: 0,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        plugins: {\r\n          legend: {\r\n            display: false,\r\n          },\r\n        },\r\n      },\r\n    });\r\n    var ctx_marital = document.getElementById(\"maritalChart\").getContext(\"2d\");\r\n    var maritalChart = new Chart(ctx_marital, {\r\n      type: \"doughnut\",\r\n      data: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            data: [],\r\n            backgroundColor: colorArray,\r\n            borderWidth: 0,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        plugins: {\r\n          legend: {\r\n            display: false,\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    // Get Charts Data\r\n    $.ajax({\r\n      url: \"/api/chart.php\",\r\n      type: \"GET\",\r\n      dataType: \"json\",\r\n      success: function (data) {\r\n        if (!data.success) {\r\n          // Basic error handling\r\n          console.error(data);\r\n        }\r\n\r\n        // Gender chart\r\n        let genderLabels = Object.keys(data.gender);\r\n        genderChart.data.labels = genderLabels;\r\n        let genderValues = Object.values(data.gender);\r\n        genderChart.data.datasets[0].data = genderValues;\r\n        genderChart.update();\r\n\r\n        let maxGenderIndex = genderValues.reduce(\r\n          (iMax, x, i, arr) => (x > arr[iMax] ? i : iMax),\r\n          0,\r\n        );\r\n        let maxGenderName = genderLabels[maxGenderIndex];\r\n        let maxGenderVal = genderValues[maxGenderIndex];\r\n\r\n        let genderTotal = genderValues.reduce((a, b) => a + b, 0);\r\n        let genderMaxPerc = (maxGenderVal / genderTotal) * 100;\r\n        // $(\"#genderChartPopup\")\r\n        // .find(\".overlay-cdk__content-title\")\r\n        // .html(`${genderMaxPerc.toFixed(2)}% of users are ${maxGenderName}`);\r\n\r\n        $(\"#genderChartPopup\")\r\n          .find(\".overlay-cdk__content-title.preloader\")\r\n          .addClass(\"d-none\");\r\n\r\n        $(\"#genderChartPopup\")\r\n          .find(\".overlay-cdk__content-title.result\")\r\n          .addClass(\"active\");\r\n\r\n        let $gender_resultTitle = $(\"#genderChartPopup\").find(\r\n          \".overlay-cdk__content-title.result\",\r\n        );\r\n\r\n        $gender_resultTitle.addClass(\"active\");\r\n        $gender_resultTitle.find(\".percent\").html(genderMaxPerc.toFixed(2));\r\n\r\n        if (maxGenderName === \"Male\") {\r\n          $gender_resultTitle.find('.value[data-value=\"1\"]').addClass(\"active\");\r\n        } else if (maxGenderName === \"Female\") {\r\n          $gender_resultTitle.find('.value[data-value=\"2\"]').addClass(\"active\");\r\n        } else if (maxGenderName === \"Other\") {\r\n          $gender_resultTitle.find('.value[data-value=\"3\"]').addClass(\"active\");\r\n        } else {\r\n          $gender_resultTitle.find(\".value-fallback\").addClass(\"active\");\r\n          $gender_resultTitle.find(\".value-fallback\").html(maxGenderName);\r\n        }\r\n\r\n        // Age chart\r\n        let ageLabels = Object.keys(data.age);\r\n        ageChart.data.labels = ageLabels;\r\n        let ageValues = Object.values(data.age);\r\n        ageChart.data.datasets[0].data = ageValues;\r\n        ageChart.update();\r\n\r\n        let maxAgeIndex = ageValues.reduce(\r\n          (iMax, x, i, arr) => (x > arr[iMax] ? i : iMax),\r\n          0,\r\n        );\r\n        let maxAgeName = ageLabels[maxAgeIndex];\r\n        let maxAgeVal = ageValues[maxAgeIndex];\r\n\r\n        let ageTotal = ageValues.reduce((a, b) => a + b, 0);\r\n        let ageMaxPerc = (maxAgeVal / ageTotal) * 100;\r\n        // $(\"#ageChartPopup\")\r\n        //   .find(\".overlay-cdk__content-title\")\r\n        //   .html(`${ageMaxPerc.toFixed(2)}% of users are ${maxAgeName}`);\r\n\r\n        $(\"#ageChartPopup\")\r\n          .find(\".overlay-cdk__content-title.preloader\")\r\n          .addClass(\"d-none\");\r\n\r\n        $(\"#ageChartPopup\")\r\n          .find(\".overlay-cdk__content-title.result\")\r\n          .addClass(\"active\");\r\n\r\n        let $age_resultTitle = $(\"#ageChartPopup\").find(\r\n          \".overlay-cdk__content-title.result\",\r\n        );\r\n\r\n        $age_resultTitle.addClass(\"active\");\r\n        $age_resultTitle.find(\".percent\").html(ageMaxPerc.toFixed(2));\r\n        $age_resultTitle.find(\".value-fallback\").addClass(\"active\");\r\n        $age_resultTitle.find(\".value-fallback\").html(maxAgeName);\r\n\r\n        // Residence chart\r\n        let residenceLabels = Object.keys(data.residence);\r\n        residenceChart.data.labels = residenceLabels;\r\n        let residenceValues = Object.values(data.residence);\r\n        residenceChart.data.datasets[0].data = residenceValues;\r\n        residenceChart.update();\r\n\r\n        let maxResidenceIndex = residenceValues.reduce(\r\n          (iMax, x, i, arr) => (x > arr[iMax] ? i : iMax),\r\n          0,\r\n        );\r\n        let maxResidenceName = residenceLabels[maxResidenceIndex];\r\n        let maxResidenceVal = residenceValues[maxResidenceIndex];\r\n\r\n        let residenceTotal = residenceValues.reduce((a, b) => a + b, 0);\r\n        let residenceMaxPerc = (maxResidenceVal / residenceTotal) * 100;\r\n        // $(\"#residenceChartPopup\")\r\n        //   .find(\".overlay-cdk__content-title\")\r\n        //   .html(\r\n        //     `${residenceMaxPerc.toFixed(2)}% of users are ${maxResidenceName}`,\r\n        //   );\r\n\r\n        $(\"#residenceChartPopup\")\r\n          .find(\".overlay-cdk__content-title.preloader\")\r\n          .addClass(\"d-none\");\r\n\r\n        $(\"#residenceChartPopup\")\r\n          .find(\".overlay-cdk__content-title.result\")\r\n          .addClass(\"active\");\r\n\r\n        let $residence_resultTitle = $(\"#residenceChartPopup\").find(\r\n          \".overlay-cdk__content-title.result\",\r\n        );\r\n\r\n        $residence_resultTitle.addClass(\"active\");\r\n        $residence_resultTitle\r\n          .find(\".percent\")\r\n          .html(residenceMaxPerc.toFixed(2));\r\n\r\n        if (maxResidenceName === \"Vientiane Capital\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"1\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Vientiane\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"2\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Savannakhet\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"3\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Champasack\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"4\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Luangprabang\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"5\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Khammuane\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"6\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Bokeo\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"7\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Borikhamxay\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"8\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Huaphanh\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"9\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Luangnamtha\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"10\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Oudomxay\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"11\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Phongsaly\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"12\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Saravanh\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"13\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Xayabury\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"14\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Xaysomboon\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"15\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Xiengkhuang\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"16\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Sekong\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"17\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Attapeu\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"18\"]')\r\n            .addClass(\"active\");\r\n        } else {\r\n          $residence_resultTitle.find(\".value-fallback\").addClass(\"active\");\r\n          $residence_resultTitle.find(\".value-fallback\").html(maxResidenceName);\r\n        }\r\n\r\n        // Marital chart\r\n        let maritalLabels = Object.keys(data.marital_status);\r\n        maritalChart.data.labels = maritalLabels;\r\n        let maritalValues = Object.values(data.marital_status);\r\n        maritalChart.data.datasets[0].data = maritalValues;\r\n        maritalChart.update();\r\n\r\n        let maxMaritalIndex = maritalValues.reduce(\r\n          (iMax, x, i, arr) => (x > arr[iMax] ? i : iMax),\r\n          0,\r\n        );\r\n        let maxMaritalName = maritalLabels[maxMaritalIndex];\r\n        let maxMaritalVal = maritalValues[maxMaritalIndex];\r\n\r\n        let maritalTotal = maritalValues.reduce((a, b) => a + b, 0);\r\n        let maritalMaxPerc = (maxMaritalVal / maritalTotal) * 100;\r\n        // $(\"#maritalChartPopup\")\r\n        //   .find(\".overlay-cdk__content-title\")\r\n        //   .html(`${maritalMaxPerc.toFixed(2)}% of users are ${maxMaritalName}`);\r\n        $(\"#maritalChartPopup\")\r\n          .find(\".overlay-cdk__content-title.preloader\")\r\n          .addClass(\"d-none\");\r\n\r\n        $(\"#maritalChartPopup\")\r\n          .find(\".overlay-cdk__content-title.result\")\r\n          .addClass(\"active\");\r\n\r\n        let $marital_resultTitle = $(\"#maritalChartPopup\").find(\r\n          \".overlay-cdk__content-title.result\",\r\n        );\r\n\r\n        $marital_resultTitle.addClass(\"active\");\r\n        $marital_resultTitle.find(\".percent\").html(maritalMaxPerc.toFixed(2));\r\n\r\n        if (maxMaritalName === \"Single\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"1\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxMaritalName === \"Married\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"2\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxMaritalName === \"Widowed\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"3\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxMaritalName === \"Divorced\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"4\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxMaritalName === \"Other\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"5\"]')\r\n            .addClass(\"active\");\r\n        } else {\r\n          $marital_resultTitle.find(\".value-fallback\").addClass(\"active\");\r\n          $marital_resultTitle.find(\".value-fallback\").html(maxMaritalName);\r\n        }\r\n      },\r\n      error: function (data) {\r\n        // Basic error handling\r\n        console.error(data);\r\n      },\r\n    });\r\n\r\n    // Header menu dropdowns\r\n    let timeoutHandler = null;\r\n    $(\".main-header__nav-menu-link\").on(\"click\", function (e) {\r\n      if ($(this).hasClass(\"dropdown\")) {\r\n        e.preventDefault();\r\n        // Clear animations\r\n        if (timeoutHandler) {\r\n          clearTimeout(timeoutHandler);\r\n          timeoutHandler = null;\r\n          clearHeaderAnimation();\r\n        }\r\n\r\n        let parent = $(this).closest(\".main-header__nav-menu-item\");\r\n        if (!parent.hasClass(\"active\")) {\r\n          // Change btn class\r\n          $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n          $(\".main-header__control-btn\").removeClass(\"active\");\r\n          parent.addClass(\"active\");\r\n          // Toggle panel\r\n          openHeaderDropdown();\r\n          toggleHeaderPanel($(this).data(\"panel\"));\r\n        } else {\r\n          $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n          closeHeaderDropdown();\r\n        }\r\n      }\r\n    });\r\n    $(\".main-header__search-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      // Clear animations\r\n      if (timeoutHandler) {\r\n        clearTimeout(timeoutHandler);\r\n        timeoutHandler = null;\r\n        clearHeaderAnimation();\r\n      }\r\n\r\n      if (!$(this).hasClass(\"active\")) {\r\n        $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        $(this).addClass(\"active\");\r\n        // Toggle panel\r\n        openHeaderDropdown();\r\n        toggleHeaderPanel($(this).data(\"panel\"));\r\n      } else {\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        closeHeaderDropdown();\r\n      }\r\n    });\r\n    $(\".main-header__languages-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      // Clear animations\r\n      if (timeoutHandler) {\r\n        clearTimeout(timeoutHandler);\r\n        timeoutHandler = null;\r\n        clearHeaderAnimation();\r\n      }\r\n\r\n      if (!$(this).hasClass(\"active\")) {\r\n        $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        $(this).addClass(\"active\");\r\n        // Toggle panel\r\n        openHeaderDropdown();\r\n        toggleHeaderPanel($(this).data(\"panel\"));\r\n      } else {\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        closeHeaderDropdown();\r\n      }\r\n    });\r\n\r\n    function toggleHeaderPanel(number) {\r\n      $(\".panel-content\").addClass(\"d-none\");\r\n      $(`.panel-content[data-panel=\"${number}\"]`).removeClass(\"d-none\");\r\n    }\r\n\r\n    function clearHeaderAnimation() {\r\n      $(\".main-header__overlay-panel-content\").css({\r\n        transition: \"\",\r\n        transform: \"\",\r\n        opacity: \"\",\r\n      });\r\n      $(\".main-header__overlay-panel\").removeClass(\"active\");\r\n    }\r\n\r\n    // Close overlay\r\n    $(\".main-header__overlay-backdrop, .panel-content__btn-close\").on(\r\n      \"click\",\r\n      function (e) {\r\n        e.preventDefault();\r\n        $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        closeHeaderDropdown();\r\n      },\r\n    );\r\n\r\n    function openHeaderDropdown() {\r\n      // Set position\r\n      if ($(\".main-header\").hasClass(\"sticky\")) {\r\n        $(\".main-header__overlay-panel\").css(\r\n          \"top\",\r\n          `calc(100% + ${$(document).scrollTop()}px - ${$(\r\n            \".main-header__nav-wrap\",\r\n          ).innerHeight()}px)`,\r\n        );\r\n        $(\".main-header__overlay-backdrop\").css(\r\n          \"top\",\r\n          `calc(100% + ${$(document).scrollTop()}px - ${$(\r\n            \".main-header__nav-wrap\",\r\n          ).innerHeight()}px)`,\r\n        );\r\n      } else {\r\n        $(\".main-header__overlay-panel\").css(\r\n          \"top\",\r\n          `calc(100% + ${$(document).scrollTop()}px)`,\r\n        );\r\n        $(\".main-header__overlay-backdrop\").css(\r\n          \"top\",\r\n          `calc(100% + ${$(document).scrollTop()}px)`,\r\n        );\r\n      }\r\n\r\n      // Reset\r\n      $(\".main-header__overlay-panel-content\").css({\r\n        transition: \"\",\r\n        transform: \"\",\r\n        opacity: \"\",\r\n      });\r\n      $(\".main-header__overlay-panel\").removeClass(\"active\");\r\n\r\n      // Show overlay\r\n      $(\"body\").addClass(\"overflow-hidden body-freeze\");\r\n\r\n      // Show backdrop\r\n      $(\".main-header__overlay-backdrop\").addClass(\"active\");\r\n\r\n      // Prepare panel for animation\r\n      $(\".main-header__overlay-panel-content\").css(\r\n        \"transform\",\r\n        \"translateY(-100%)\",\r\n      );\r\n      // Show panel\r\n      $(\".main-header__overlay-panel\").addClass(\"active\");\r\n      setTimeout(() => {\r\n        // Animate panel\r\n        $(\".main-header__overlay-panel-content\").css({\r\n          transition: \"all 700ms\",\r\n          transform: \"translateY(0%)\",\r\n        });\r\n      }, 0);\r\n    }\r\n    function closeHeaderDropdown() {\r\n      // Hide overlay\r\n      // Prevent body interaction if other overlay is open\r\n      if (!$(\".mobile-menu-overlay\").hasClass(\"active\")) {\r\n        $(\"body\").removeClass(\"overflow-hidden body-freeze\");\r\n      } else {\r\n        $(\"body\").removeClass(\"body-freeze\");\r\n      }\r\n      $(\".main-header__overlay-backdrop\").removeClass(\"active\");\r\n\r\n      $(\".main-header__overlay-panel-content\").css({\r\n        transform: \"translateY(-100%)\",\r\n        opacity: 0,\r\n      });\r\n      timeoutHandler = setTimeout(() => {\r\n        $(\".main-header__overlay-panel-content\").css({\r\n          transition: \"\",\r\n          transform: \"\",\r\n          opacity: \"\",\r\n        });\r\n        $(\".main-header__overlay-panel\").removeClass(\"active\");\r\n\r\n        clearTimeout(timeoutHandler);\r\n        timeoutHandler = null;\r\n      }, 700);\r\n    }\r\n\r\n    // Sticky header\r\n    stickyHeader();\r\n    $(document).on(\"scroll\", function () {\r\n      stickyHeader();\r\n    });\r\n    function stickyHeader() {\r\n      if ($(\".main-header\").length) {\r\n        // let sticky = $(\".main-header\").height();\r\n        let sticky = 0;\r\n\r\n        if (window.pageYOffset > sticky) {\r\n          $(\".main-header\").addClass(\"sticky\");\r\n        } else {\r\n          $(\".main-header\").removeClass(\"sticky\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // Search form\r\n    $(\"#searchFormInput\").on(\"input\", function (e) {\r\n      console.log(1);\r\n      if ($(this).val() !== \"\") {\r\n        $(\"#searchForm\").addClass(\"active\");\r\n      } else {\r\n        $(\"#searchForm\").removeClass(\"active\");\r\n      }\r\n    });\r\n    $(\"#searchFormClear\").on(\"click\", function (e) {\r\n      $(\"#searchFormInput\").val(\"\");\r\n      $(\"#searchForm\").removeClass(\"active\");\r\n    });\r\n    $(\"#searchFormSubmit\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n    });\r\n\r\n    // Mobile header menu\r\n    $(\".main-header__mobile-burger\").on(\"click\", function (e) {\r\n      $(this).toggleClass(\"active\");\r\n\r\n      $(\"body\").toggleClass(\"overflow-hidden\");\r\n      $(\"#mobileMenu\").slideToggle().toggleClass(\"active\");\r\n      $(\".mobile-menu-overlay-backdrop\").toggleClass(\"active\");\r\n\r\n      if (!$(\"#mobileMenu\").hasClass(\"active\")) {\r\n        $(\".mobile-menu-overlay__menu a\").removeClass(\"open\");\r\n        $(\".mobile-menu-overlay__menu a\")\r\n          .parent()\r\n          .find(\".mobile-menu-overlay__menu-panel\")\r\n          .slideUp();\r\n      }\r\n      if ($(this).hasClass(\"active\")) {\r\n        $(\".mobile-menu-overlay__inner-menu\").removeClass(\"active\");\r\n      }\r\n    });\r\n    $(\".mobile-menu-overlay-backdrop\").on(\"click\", function () {\r\n      $(\".main-header__mobile-burger\").toggleClass(\"active\");\r\n\r\n      $(\"body\").toggleClass(\"overflow-hidden\");\r\n      $(\"#mobileMenu\").slideToggle().toggleClass(\"active\");\r\n      $(\".mobile-menu-overlay-backdrop\").toggleClass(\"active\");\r\n\r\n      if (!$(\"#mobileMenu\").hasClass(\"active\")) {\r\n        $(\".mobile-menu-overlay__menu a\").removeClass(\"open\");\r\n        $(\".mobile-menu-overlay__menu a\")\r\n          .parent()\r\n          .find(\".mobile-menu-overlay__menu-panel\")\r\n          .slideUp();\r\n      }\r\n    });\r\n\r\n    // Mobile header accordion\r\n    $(\".mobile-menu-overlay__menu > li > a\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n\r\n      $(this).toggleClass(\"open\");\r\n      $(this).parent().find(\".mobile-menu-overlay__menu-panel\").slideToggle();\r\n    });\r\n\r\n    // Mobile language switcher\r\n    $(\"#mobileLanguageSelect\").on(\"change\", function () {\r\n      let val = $(this).find(\"option:selected\").val();\r\n\r\n      window.location = val;\r\n    });\r\n\r\n    // Mobile header inner menu\r\n    $(\".mobile-menu-overlay__inner-menu-btn\").on(\"click\", function () {\r\n      let parent = $(this).closest(\".mobile-menu-overlay__inner-menu-wrap\");\r\n\r\n      parent.find(\".mobile-menu-overlay__inner-menu\").addClass(\"active\");\r\n    });\r\n    $(\".mobile-menu-overlay__inner-menu .parent-link\").on(\r\n      \"click\",\r\n      function (e) {\r\n        e.preventDefault();\r\n\r\n        $(this)\r\n          .closest(\".mobile-menu-overlay__inner-menu\")\r\n          .removeClass(\"active\");\r\n      },\r\n    );\r\n\r\n    // Stepper\r\n    let stepperStep = 1;\r\n    $(\"#startBtn\").on(\"click touchstart\", function () {\r\n      let privacy_agreed = $(\"#form_privacy_agreed\").is(\":checked\");\r\n      let personal_data_agreed = $(\"#form_personal_agreed\").is(\":checked\");\r\n\r\n      if (!privacy_agreed) {\r\n        $(\"#form_privacy_agreed\").parent().addClass(\"input-error\");\r\n      }\r\n      if (!personal_data_agreed) {\r\n        $(\"#form_personal_agreed\").parent().addClass(\"input-error\");\r\n      }\r\n\r\n      if (!privacy_agreed || !personal_data_agreed) {\r\n        return;\r\n      }\r\n\r\n      $(\"#startScreen\").addClass(\"d-none\");\r\n      $(\"#stepperScreen\").removeClass(\"d-none\");\r\n      openStep1();\r\n    });\r\n\r\n    $(\".custom-checkbox-container\").on(\"click\", function () {\r\n      $(this).removeClass(\"input-error\");\r\n    });\r\n\r\n    function openStep1() {\r\n      // Change bullet\r\n      let $stepBullets = $(\".stepper__bullets-item\");\r\n      $stepBullets.removeClass(\"active completed\");\r\n      $stepBullets.eq(0).addClass(\"completed\");\r\n      $stepBullets.eq(1).addClass(\"active\");\r\n      // Change title\r\n      $(\".stepper__title\").addClass(\"d-none\");\r\n      $('.stepper__title[data-step=\"1\"]').removeClass(\"d-none\");\r\n\r\n      // Hide default d-none for proper alignment\r\n      $(\"#backBtn\").removeClass(\"d-none\");\r\n      $(\"#nextBtn\").removeClass(\"d-none\");\r\n\r\n      // Hide back btn\r\n      $(\"#backBtn\").addClass(\"hidden-btn\");\r\n      $(\"#nextBtn\").removeClass(\"hidden-btn\");\r\n\r\n      // Show second screen\r\n      $(\".stepper__step\").addClass(\"d-none\");\r\n      $(\".stepper__step-1\").removeClass(\"d-none\");\r\n\r\n      // Rerender range\r\n      $(\".custom-range-input\").slider(\"refresh\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n    }\r\n\r\n    function openStep2() {\r\n      // Change bullet\r\n      let $stepBullets = $(\".stepper__bullets-item\");\r\n      $stepBullets.removeClass(\"active completed\");\r\n      $stepBullets.eq(0).addClass(\"completed\");\r\n      $stepBullets.eq(1).addClass(\"completed\");\r\n      $stepBullets.eq(2).addClass(\"active\");\r\n      // Change title\r\n      $(\".stepper__title\").addClass(\"d-none\");\r\n      $('.stepper__title[data-step=\"2\"]').removeClass(\"d-none\");\r\n\r\n      // Hide default d-none for proper alignment\r\n      $(\"#backBtn\").removeClass(\"d-none\");\r\n      $(\"#nextBtn\").removeClass(\"d-none\");\r\n\r\n      // Show buttons\r\n      $(\"#backBtn\").removeClass(\"hidden-btn\");\r\n      $(\"#nextBtn\").removeClass(\"hidden-btn\");\r\n\r\n      // Show second screen\r\n      $(\".stepper__step\").addClass(\"d-none\");\r\n      $(\".stepper__step-2\").removeClass(\"d-none\");\r\n\r\n      // Rerender range\r\n      $(\".custom-range-input\").slider(\"refresh\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n    }\r\n\r\n    function openStep3() {\r\n      // Change bullet\r\n      let $stepBullets = $(\".stepper__bullets-item\");\r\n      $stepBullets.removeClass(\"active completed\");\r\n      $stepBullets.eq(0).addClass(\"completed\");\r\n      $stepBullets.eq(1).addClass(\"completed\");\r\n      $stepBullets.eq(2).addClass(\"completed\");\r\n      $stepBullets.eq(3).addClass(\"active\");\r\n      // Change title\r\n      $(\".stepper__title\").addClass(\"d-none\");\r\n      $('.stepper__title[data-step=\"3\"]').removeClass(\"d-none\");\r\n\r\n      // Hide default d-none for proper alignment\r\n      $(\"#backBtn\").removeClass(\"d-none\");\r\n      $(\"#nextBtn\").removeClass(\"d-none\");\r\n\r\n      // Show buttons\r\n      $(\"#backBtn\").removeClass(\"hidden-btn\");\r\n      $(\"#nextBtn\").removeClass(\"hidden-btn\");\r\n\r\n      // Show second screen\r\n      $(\".stepper__step\").addClass(\"d-none\");\r\n      $(\".stepper__step-3\").removeClass(\"d-none\");\r\n\r\n      // Rerender range\r\n      $(\".custom-range-input\").slider(\"refresh\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n    }\r\n\r\n    function openStep4() {\r\n      // Change bullet\r\n      let $stepBullets = $(\".stepper__bullets-item\");\r\n      $stepBullets.removeClass(\"active completed\");\r\n      $stepBullets.eq(0).addClass(\"completed\");\r\n      $stepBullets.eq(1).addClass(\"completed\");\r\n      $stepBullets.eq(2).addClass(\"completed\");\r\n      $stepBullets.eq(3).addClass(\"completed\");\r\n      // Change title\r\n      $(\".stepper__title\").addClass(\"d-none\");\r\n      $('.stepper__title[data-step=\"4\"]').removeClass(\"d-none\");\r\n      // Hide btns\r\n      $(\"#backBtn\").addClass(\"d-none\");\r\n      $(\"#nextBtn\").addClass(\"d-none\");\r\n      // Show second screen\r\n      $(\".stepper__step\").addClass(\"d-none\");\r\n      $(\".stepper__step-4\").removeClass(\"d-none\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n    }\r\n\r\n    $(\"#backBtn\").on(\"click touchstart\", function () {\r\n      if (stepperStep === 2) {\r\n        openStep1();\r\n        stepperStep = 1;\r\n      } else if (stepperStep === 3) {\r\n        openStep2();\r\n        stepperStep = 2;\r\n      } else if (stepperStep === 4) {\r\n        openStep3();\r\n        stepperStep = 3;\r\n      }\r\n    });\r\n    $(\"#nextBtn\").on(\"click touchstart\", function () {\r\n      if (stepperStep === 1) {\r\n        let validate = validate1();\r\n        if (!validate) {\r\n          return;\r\n        }\r\n        openStep2();\r\n        stepperStep++;\r\n      } else if (stepperStep === 2) {\r\n        let validate = validate2();\r\n        if (!validate) {\r\n          return;\r\n        }\r\n        openStep3();\r\n        stepperStep++;\r\n      } else if (stepperStep === 3) {\r\n        let validate = validate3();\r\n        if (!validate) {\r\n          return;\r\n        }\r\n\r\n        // Open step after ajax request\r\n        calculate();\r\n      }\r\n    });\r\n\r\n    $(\"#startAgainBtn\").on(\"click touchstart\", function () {\r\n      openStep1();\r\n      stepperStep = 1;\r\n\r\n      $(\"#startScreen\").removeClass(\"d-none\");\r\n      $(\"#stepperScreen\").addClass(\"d-none\");\r\n      closePopup();\r\n    });\r\n    $(\"#recalculateBtn\").on(\"click touchstart\", function () {\r\n      // Change tab\r\n      openStep1();\r\n      stepperStep = 1;\r\n    });\r\n    $(\"#downloadBtn\").on(\"click touchstart\", function () {\r\n      // Change tab\r\n      $(\"#stepperScreen\").addClass(\"d-none\");\r\n      $(\"#resultScreen\").removeClass(\"d-none\");\r\n      $(\"body\").removeClass(\"shrinked\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n\r\n      let id = $(\"#uniqueId\").val();\r\n      let url = $(this).data(\"url\");\r\n      let lang = $(this).data(\"lang\");\r\n\r\n      let req_url = `${url}?uid=${id}&lang=${lang}`;\r\n      window.location = req_url;\r\n\r\n      // $.ajax({\r\n      //   url: \"http://prud.local/api/download-pdf.php\",\r\n      //   type: \"POST\",\r\n      //   dataType: \"json\",\r\n      //   data: {\r\n      //     download_pdf: true,\r\n      //   },\r\n      //   success: function (data) {\r\n      //     console.log(\"file: main.js - line 672 - data\", data);\r\n      //     if (!data.success) {\r\n      //       // Basic error handling\r\n      //       console.error(data);\r\n      //     }\r\n      //   },\r\n      //   error: function (data) {\r\n      //     // Basic error handling\r\n      //     console.error(data);\r\n      //   },\r\n      // });\r\n\r\n      // jsPDF\r\n      if (!isMobilePlatform) {\r\n        // let doc = new jsPDF({\r\n        //   orientation: \"l\",\r\n        //   unit: \"pt\",\r\n        //   format: \"a4\",\r\n        // });\r\n        // let content = $(\"#resultScreen\")[0];\r\n        // doc.html(content, {\r\n        //   callback: function (doc) {\r\n        //     doc.save(\"Calculator result.pdf\");\r\n        //     $(\"#resultScreen\").removeClass(\"printing\");\r\n        //     $(\"body\").addClass(\"shrinked\");\r\n        //   },\r\n        //   x: 40,\r\n        //   y: 60,\r\n        // });\r\n        $(\"#resultScreen\").removeClass(\"printing\");\r\n      } else {\r\n        $(\"#resultScreen\").removeClass(\"printing\");\r\n      }\r\n    });\r\n    $(\"#backDownloadBtn\").on(\"click touchstart\", function () {\r\n      $(\"#stepperScreen\").removeClass(\"d-none\");\r\n      $(\"#resultScreen\").addClass(\"d-none\");\r\n    });\r\n\r\n    // Validation\r\n    // Tab 1\r\n    function validate1() {\r\n      let f_name = $(\".calculator-form\").find(\"#f_name\").val();\r\n      let f_gender = $(\".calculator-form\")\r\n        .find('input[name=\"gender\"]:checked')\r\n        .val();\r\n      let f_age = $(\".calculator-form\").find(\"#f_age\").val();\r\n      let f_phone = $(\".calculator-form\").find(\"#f_phone\").val();\r\n      let f_residence = $(\".calculator-form\").find(\"#f_residence\").val();\r\n      let f_marital_status = $(\".calculator-form\")\r\n        .find('input[name=\"marital_status\"]:checked')\r\n        .val();\r\n      let f_children = $(\".calculator-form\").find(\"#f_children\").val();\r\n      let f_dependent = $(\".calculator-form\").find(\"#f_dependent\").val();\r\n      let f_life_insuranced = $(\".calculator-form\")\r\n        .find('input[name=\"life_insuranced\"]:checked')\r\n        .val();\r\n\r\n      let validated = [];\r\n\r\n      if (f_name === \"\" || typeof f_name === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_name\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_gender === \"\" || typeof f_gender === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find('input[name=\"gender\"]')\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_age === \"\" || typeof f_age === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_age\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_phone === \"\" || typeof f_phone === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_phone\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_residence === \"\" || typeof f_residence === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_residence\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_marital_status === \"\" || typeof f_marital_status === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find('input[name=\"marital_status\"]')\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_children === \"\" || typeof f_children === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_children\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_dependent === \"\" || typeof f_dependent === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_dependent\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (\r\n        f_life_insuranced === \"\" ||\r\n        typeof f_life_insuranced === \"undefined\"\r\n      ) {\r\n        $(\".calculator-form\")\r\n          .find('input[name=\"life_insuranced\"]')\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n\r\n      if (validated.length < 9) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    }\r\n    function validate2() {\r\n      // let f_salary = $(\".calculator-form\").find(\"#f_salary\").val();\r\n      // let f_other_income = $(\".calculator-form\").find(\"#f_other_income\").val();\r\n      // let f_savings = $(\".calculator-form\").find(\"#f_savings\").val();\r\n      // let f_insurance_covers = $(\".calculator-form\")\r\n      //   .find(\"#f_insurance_covers\")\r\n      //   .val();\r\n\r\n      // let validated = [];\r\n\r\n      // if (f_salary === \"\" || typeof f_salary === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_salary\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (f_other_income === \"\" || typeof f_other_income === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_other_income\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (f_savings === \"\" || typeof f_savings === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_savings\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (\r\n      //   f_insurance_covers === \"\" ||\r\n      //   typeof f_insurance_covers === \"undefined\"\r\n      // ) {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_insurance_covers\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (validated.length < 4) {\r\n      //   return false;\r\n      // }\r\n\r\n      return true;\r\n    }\r\n    function validate3() {\r\n      // let f_expenses = $(\".calculator-form\").find(\"#f_expenses\").val();\r\n      // let f_loans = $(\".calculator-form\").find(\"#f_loans\").val();\r\n      // let f_insurance_cost = $(\".calculator-form\")\r\n      //   .find(\"#f_insurance_cost\")\r\n      //   .val();\r\n\r\n      // let f_spouse_monthly_payment = $(\".calculator-form\")\r\n      //   .find(\"#f_spouse_monthly_payment\")\r\n      //   .val();\r\n      // let f_spouse_payment_years = $(\".calculator-form\")\r\n      //   .find(\"#f_spouse_payment_years\")\r\n      //   .val();\r\n\r\n      // let f_child_monthly_payment = $(\".calculator-form\")\r\n      //   .find(\"#f_child_monthly_payment\")\r\n      //   .val();\r\n      // let f_child_payment_years = $(\".calculator-form\")\r\n      //   .find(\"#f_child_payment_years\")\r\n      //   .val();\r\n\r\n      // let f_dependents_monthly_payment = $(\".calculator-form\")\r\n      //   .find(\"#f_dependents_monthly_payment\")\r\n      //   .val();\r\n      // let f_dependents_payment_years = $(\".calculator-form\")\r\n      //   .find(\"#f_dependents_payment_years\")\r\n      //   .val();\r\n\r\n      // let validated = [];\r\n\r\n      // if (f_expenses === \"\" || typeof f_expenses === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_expenses\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n      // if (f_loans === \"\" || typeof f_loans === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_loans\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n      // if (f_insurance_cost === \"\" || typeof f_insurance_cost === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_insurance_cost\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (validated.length < 3) {\r\n      //   return false;\r\n      // }\r\n\r\n      return true;\r\n    }\r\n\r\n    // Clear validation\r\n    $(\".field-wrapper\").on(\"click touchstart\", function () {\r\n      $(this).find(\".field-label-wrap\").removeClass(\"input-error\");\r\n      $(this).find(\".column-structure__desc\").removeClass(\"input-error\");\r\n    });\r\n\r\n    // Calculate\r\n\r\n    function calculate() {\r\n      $(\"#preloaderOverlay\").addClass(\"active\");\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n\r\n      let f_name = $(\".calculator-form\").find(\"#f_name\").val();\r\n      let f_gender = $(\".calculator-form\")\r\n        .find('input[name=\"gender\"]:checked')\r\n        .val();\r\n      let f_age = $(\".calculator-form\").find(\"#f_age\").val();\r\n      let f_phone = $(\".calculator-form\").find(\"#f_phone\").val();\r\n      let f_residence = $(\".calculator-form\").find(\"#f_residence\").val();\r\n      let f_marital_status = $(\".calculator-form\")\r\n        .find('input[name=\"marital_status\"]:checked')\r\n        .val();\r\n      let f_children = $(\".calculator-form\").find(\"#f_children\").val();\r\n      let f_dependent = $(\".calculator-form\").find(\"#f_dependent\").val();\r\n      let f_life_insuranced = $(\".calculator-form\")\r\n        .find('input[name=\"life_insuranced\"]:checked')\r\n        .val();\r\n\r\n      let f_salary = $(\".calculator-form\").find(\"#f_salary\").val();\r\n      let AN_salary = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_salary\")[0],\r\n      );\r\n      let salary_val = AN_salary.getNumber();\r\n\r\n      let f_other_income = $(\".calculator-form\").find(\"#f_other_income\").val();\r\n      let AN_other_income = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_other_income\")[0],\r\n      );\r\n      let other_income_val = AN_other_income.getNumber();\r\n\r\n      let f_savings = $(\".calculator-form\").find(\"#f_savings\").val();\r\n      let AN_savings = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_savings\")[0],\r\n      );\r\n      let savings_val = AN_savings.getNumber();\r\n\r\n      let f_insurance_covers = $(\".calculator-form\")\r\n        .find(\"#f_insurance_covers\")\r\n        .val();\r\n      let AN_insurance_covers = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_insurance_covers\")[0],\r\n      );\r\n      let insurance_covers_val = AN_insurance_covers.getNumber();\r\n\r\n      let f_expenses = $(\".calculator-form\").find(\"#f_expenses\").val();\r\n      let AN_expenses = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_expenses\")[0],\r\n      );\r\n      let expenses_val = AN_expenses.getNumber();\r\n\r\n      let f_loans = $(\".calculator-form\").find(\"#f_loans\").val();\r\n      let AN_loans = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_loans\")[0],\r\n      );\r\n      let loans_val = AN_loans.getNumber();\r\n\r\n      let f_insurance_cost = $(\".calculator-form\")\r\n        .find(\"#f_insurance_cost\")\r\n        .val();\r\n      let AN_insurance_cost = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_insurance_cost\")[0],\r\n      );\r\n      let insurance_cost_val = AN_insurance_cost.getNumber();\r\n\r\n      let f_spouse_monthly_payment = $(\".calculator-form\")\r\n        .find(\"#f_spouse_monthly_payment\")\r\n        .val();\r\n      let AN_spouse_monthly_payment = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_spouse_monthly_payment\")[0],\r\n      );\r\n      let spouse_monthly_payment_val = AN_spouse_monthly_payment.getNumber();\r\n\r\n      let f_spouse_payment_years = $(\".calculator-form\")\r\n        .find(\"#f_spouse_payment_years\")\r\n        .val();\r\n      let f_spouse_yearly_payment = spouse_monthly_payment_val * 12;\r\n\r\n      let f_child_monthly_payment = $(\".calculator-form\")\r\n        .find(\"#f_child_monthly_payment\")\r\n        .val();\r\n      let AN_child_monthly_payment = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_child_monthly_payment\")[0],\r\n      );\r\n      let child_monthly_payment_val = AN_child_monthly_payment.getNumber();\r\n\r\n      let f_child_payment_years = $(\".calculator-form\")\r\n        .find(\"#f_child_payment_years\")\r\n        .val();\r\n      let f_child_yearly_payment = child_monthly_payment_val * 12;\r\n\r\n      let f_dependents_monthly_payment = $(\".calculator-form\")\r\n        .find(\"#f_dependents_monthly_payment\")\r\n        .val();\r\n      let AN_dependents_monthly_payment = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_dependents_monthly_payment\")[0],\r\n      );\r\n      let dependents_monthly_payment_val =\r\n        AN_dependents_monthly_payment.getNumber();\r\n\r\n      let f_dependents_payment_years = $(\".calculator-form\")\r\n        .find(\"#f_dependents_payment_years\")\r\n        .val();\r\n      let f_dependents_yearly_payment = dependents_monthly_payment_val * 12;\r\n\r\n      let result = null;\r\n      if (\r\n        savings_val + insurance_covers_val + other_income_val + salary_val >=\r\n        f_spouse_yearly_payment * f_spouse_payment_years +\r\n          f_child_yearly_payment * f_child_payment_years +\r\n          f_dependents_yearly_payment * f_dependents_payment_years +\r\n          expenses_val +\r\n          loans_val\r\n      ) {\r\n        result = 0;\r\n      } else {\r\n        result = -(\r\n          savings_val +\r\n          insurance_covers_val +\r\n          other_income_val +\r\n          salary_val -\r\n          (f_spouse_yearly_payment * f_spouse_payment_years +\r\n            f_child_yearly_payment * f_child_payment_years +\r\n            f_dependents_yearly_payment * f_dependents_payment_years +\r\n            expenses_val +\r\n            loans_val)\r\n        );\r\n      }\r\n\r\n      if (isNaN(result)) {\r\n        alert(\"Something went wrong\");\r\n        return;\r\n      }\r\n\r\n      // Fill finish screen\r\n      $(\".finish-screen__total\").html(`${numberWithCommas(result)} LAK`);\r\n      // Fill result screen\r\n      $(\"#result_name\").html(f_name);\r\n      $(\"#result_age\").html(f_age);\r\n\r\n      // $(\"#result_marital\").html(f_marital_status);\r\n      if (f_marital_status === \"Single\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"1\"]').addClass(\"active\");\r\n      } else if (f_marital_status === \"Married\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"2\"]').addClass(\"active\");\r\n      } else if (f_marital_status === \"Widowed\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"3\"]').addClass(\"active\");\r\n      } else if (f_marital_status === \"Divorced\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"4\"]').addClass(\"active\");\r\n      } else if (f_marital_status === \"Other\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"5\"]').addClass(\"active\");\r\n      } else {\r\n        $(\"#result_marital\").find(\".value-fallback\").addClass(\"active\");\r\n        $(\"#result_marital\").find(\".value-fallback\").html(f_marital_status);\r\n      }\r\n\r\n      // $(\"#result_residence\").html(f_residence);\r\n      if (f_residence === \"Vientiane Capital\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"1\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Vientiane\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"2\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Savannakhet\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"3\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Champasack\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"4\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Luangprabang\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"5\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Khammuane\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"6\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Bokeo\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"7\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Borikhamxay\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"8\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Huaphanh\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"9\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Luangnamtha\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"10\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Oudomxay\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"11\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Phongsaly\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"12\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Saravanh\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"13\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Xayabury\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"14\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Xaysomboon\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"15\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Xiengkhuang\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"16\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Sekong\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"17\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Attapeu\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"18\"]')\r\n          .addClass(\"active\");\r\n      } else {\r\n        $(\"#result_residence\").find(\".value-fallback\").addClass(\"active\");\r\n        $(\"#result_residence\").find(\".value-fallback\").html(f_residence);\r\n      }\r\n\r\n      $(\"#result_child\").html(f_children);\r\n      $(\"#result_dependents\").html(f_dependent);\r\n      $(\"#result_salary\").html(f_salary);\r\n      $(\"#result_savings\").html(f_savings);\r\n      $(\"#result_loans\").html(f_loans);\r\n      $(\"#result_length\").html(`${length} Year(s)`);\r\n      $(\"#result_total\").html(`${numberWithCommas(result)} LAK`);\r\n\r\n      // Submit\r\n      const url = $(\"#calculatorForm\").attr(\"action\");\r\n      const method = $(\"#calculatorForm\").attr(\"method\");\r\n      const dataType = $(\"#calculatorForm\").data(\"type\") || null;\r\n      const self = $(this);\r\n\r\n      let requestObj = {\r\n        name: f_name,\r\n        gender: f_gender,\r\n        age: f_age,\r\n        phone: f_phone,\r\n        residence: f_residence,\r\n        marital_status: f_marital_status,\r\n        children: f_children,\r\n        dependents: f_dependent,\r\n        life_insuranced: f_life_insuranced,\r\n        salary: f_salary,\r\n        other_income: f_other_income,\r\n        savings: f_savings,\r\n        insurance_covers: f_insurance_covers,\r\n        expenses: f_expenses,\r\n        loans: f_loans,\r\n        insurance_cost: f_insurance_cost, // changed to premium cost\r\n        spouse_monthly_payment: f_spouse_monthly_payment,\r\n        spouse_payment_years: f_spouse_payment_years,\r\n        child_monthly_payment: f_child_monthly_payment,\r\n        child_payment_years: f_child_payment_years,\r\n        dependents_monthly_payment: f_dependents_monthly_payment,\r\n        dependents_payment_years: f_dependents_payment_years,\r\n        total: `${numberWithCommas(result)} LAK`,\r\n      };\r\n\r\n      $.ajax({\r\n        url,\r\n        type: method,\r\n        dataType: \"json\",\r\n        data: {\r\n          calculator_sent: true,\r\n          ...requestObj,\r\n        },\r\n        success: function (data) {\r\n          // Close preloader\r\n          $(\"#preloaderOverlay\").removeClass(\"active\");\r\n          $(\"body\").removeClass(\"overflow-hidden\");\r\n          if (!data.success) {\r\n            // Basic error handling\r\n            alert(\"Something went wrong, please try again later.\");\r\n            console.error(data);\r\n          }\r\n\r\n          openStep4();\r\n          stepperStep++;\r\n\r\n          let requestId = data.request_id;\r\n          $(\"#requestId\").val(requestId);\r\n\r\n          let uniqueId = data.unique_id;\r\n          $(\"#uniqueId\").val(uniqueId);\r\n        },\r\n        error: function (data) {\r\n          // Basic error handling\r\n          alert(\"Something went wrong, please try again later.\");\r\n          console.error(data);\r\n\r\n          $(\"#preloaderOverlay\").removeClass(\"active\");\r\n          $(\"body\").removeClass(\"overflow-hidden\");\r\n        },\r\n      });\r\n    }\r\n\r\n    // Get in touch\r\n    $(\"#getInTouchBtn\").on(\"click touchstart\", function () {\r\n      // Open preloader\r\n      $(\"#preloaderOverlay\").addClass(\"active\");\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n\r\n      // Submit\r\n      const url = $(this).data(\"url\");\r\n      const self = $(this);\r\n\r\n      const requestId = $(\"#requestId\").val();\r\n\r\n      let requestObj = {\r\n        request_id: requestId,\r\n      };\r\n\r\n      $.ajax({\r\n        url,\r\n        type: \"POST\",\r\n        dataType: \"json\",\r\n        data: {\r\n          getInTouch_sent: true,\r\n          ...requestObj,\r\n        },\r\n        success: function (data) {\r\n          // Close preloader\r\n          $(\"#preloaderOverlay\").removeClass(\"active\");\r\n          $(\"body\").removeClass(\"overflow-hidden\");\r\n          if (!data.success) {\r\n            // Basic error handling\r\n            alert(\"Something went wrong, please try again later.\");\r\n            console.error(data);\r\n          }\r\n          // Open success overlay\r\n          $(\"body\").addClass(\"overflow-hidden\");\r\n          $(\"#getInTouchPopup\").addClass(\"active\");\r\n          // Hide btn\r\n          $(\"#getInTouchBtn\").addClass(\"d-none\");\r\n        },\r\n        error: function (data) {\r\n          // Basic error handling\r\n          alert(\"Something went wrong, please try again later.\");\r\n          console.error(data);\r\n\r\n          // Close preloader\r\n          $(\"#preloaderOverlay\").removeClass(\"active\");\r\n          $(\"body\").removeClass(\"overflow-hidden\");\r\n        },\r\n      });\r\n    });\r\n\r\n    // Popups\r\n    $(\"#viewGenderChartBtn\").on(\"click touchstart\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#genderChartPopup\").fadeIn(300);\r\n    });\r\n    $(\"#viewAgeChartBtn\").on(\"click touchstart\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#ageChartPopup\").fadeIn(300);\r\n    });\r\n    $(\"#viewResidenceChartBtn\").on(\"click touchstart\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#residenceChartPopup\").fadeIn(300);\r\n    });\r\n    $(\"#viewMaritalChartBtn\").on(\"click touchstart\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#maritalChartPopup\").fadeIn(300);\r\n    });\r\n\r\n    $(\".overlay-cdk\").on(\"click touchstart\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n\r\n      closePopup();\r\n    });\r\n    $(\".overlay-cdk__close-btn\").on(\"click touchstart\", function () {\r\n      closePopup();\r\n    });\r\n    function closePopup() {\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n      $(\".overlay-cdk\").fadeOut(300);\r\n      $(\".youtube-video-place\").html(\"\");\r\n    }\r\n\r\n    // Field Number Control\r\n    $(\".field-number-minus\").on(\"click touchstart\", function () {\r\n      let $parent = $(this).closest(\".field-number-wrap\");\r\n      let $input = $parent.find(\".field-number\");\r\n      let min = $input.attr(\"min\");\r\n      let max = $input.attr(\"max\");\r\n      let value = Number($input.val());\r\n\r\n      if (min && value <= Number(min)) {\r\n        return;\r\n      }\r\n      value = value - 1;\r\n      $input.val(value);\r\n\r\n      // Connect range if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        // Native range\r\n        let $range = $numberRangeWrap.find(\".field-range\");\r\n        $range.val(value);\r\n\r\n        // Custsom plugin range\r\n        let $customRange = $numberRangeWrap.find(\".custom-range-input\");\r\n        $customRange.slider(\"setValue\", value);\r\n      }\r\n      // Connect list if needed\r\n      let $numberListWrap = $(this).closest(\".field-number-and-list-wrap\");\r\n      if ($numberListWrap.length) {\r\n        let $list = $numberListWrap.find(\".icon-list\");\r\n        let icon = $list.data(\"icon\");\r\n        let itemsString = \"\";\r\n\r\n        for (let index = 0; index < value; index++) {\r\n          itemsString += `<li class=\"icon-list__item\"><i class=\"${icon}\"></i></li>`;\r\n        }\r\n\r\n        $list.html(itemsString);\r\n      }\r\n    });\r\n    $(\".field-number-plus\").on(\"click touchstart\", function () {\r\n      let $parent = $(this).closest(\".field-number-wrap\");\r\n      let $input = $parent.find(\".field-number\");\r\n      let min = $input.attr(\"min\");\r\n      let max = $input.attr(\"max\");\r\n      let value = Number($input.val());\r\n\r\n      if (max && value >= Number(max)) {\r\n        return;\r\n      }\r\n      value = value + 1;\r\n      $input.val(value);\r\n\r\n      // Connect range if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        // Native range\r\n        let $range = $numberRangeWrap.find(\".field-range\");\r\n        $range.val(value);\r\n\r\n        // Custsom plugin range\r\n        let $customRange = $numberRangeWrap.find(\".custom-range-input\");\r\n        $customRange.slider(\"setValue\", value);\r\n      }\r\n      // Connect list if needed\r\n      let $numberListWrap = $(this).closest(\".field-number-and-list-wrap\");\r\n      if ($numberListWrap.length) {\r\n        let $list = $numberListWrap.find(\".icon-list\");\r\n        let icon = $list.data(\"icon\");\r\n        let itemsString = \"\";\r\n\r\n        for (let index = 0; index < value; index++) {\r\n          itemsString += `<li class=\"icon-list__item\"><i class=\"${icon}\"></i></li>`;\r\n        }\r\n\r\n        $list.html(itemsString);\r\n      }\r\n    });\r\n    $(\".field-number\").on(\"input\", function (e) {\r\n      let min = $(this).attr(\"min\");\r\n      let max = $(this).attr(\"max\");\r\n      let value = Number($(this).val());\r\n\r\n      if (min && value < Number(min)) {\r\n        value = Number(min);\r\n      } else if (max && value > Number(max)) {\r\n        value = Number(max);\r\n      }\r\n      if (value === 0) {\r\n        $(this).val(0);\r\n      } else {\r\n        $(this).val(value);\r\n      }\r\n\r\n      // Connect range if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        // Native range\r\n        let $range = $numberRangeWrap.find(\".field-range\");\r\n        $range.val(value);\r\n\r\n        // Custsom plugin range\r\n        let $customRange = $numberRangeWrap.find(\".custom-range-input\");\r\n        $customRange.slider(\"setValue\", value);\r\n      }\r\n\r\n      // Connect list if needed\r\n      let $numberListWrap = $(this).closest(\".field-number-and-list-wrap\");\r\n      if ($numberListWrap.length) {\r\n        let $list = $numberListWrap.find(\".icon-list\");\r\n        let icon = $list.data(\"icon\");\r\n        let itemsString = \"\";\r\n\r\n        for (let index = 0; index < value; index++) {\r\n          itemsString += `<li class=\"icon-list__item\"><i class=\"${icon}\"></i></li>`;\r\n        }\r\n\r\n        $list.html(itemsString);\r\n      }\r\n    });\r\n\r\n    $(\".field-currency\").on(\"input\", function (e) {\r\n      let value = null;\r\n\r\n      // Get pure value\r\n      let ANObj = AutoNumeric.getAutoNumericElement($(this)[0]);\r\n      if (ANObj) {\r\n        value = ANObj.getNumber();\r\n      } else {\r\n        value = Number($(this).val());\r\n      }\r\n\r\n      // Connect range if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-currency-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        // Native range\r\n        let $range = $numberRangeWrap.find(\".field-range\");\r\n        $range.val(value);\r\n\r\n        // Custsom plugin range\r\n        let $customRange = $numberRangeWrap.find(\".custom-range-input\");\r\n        $customRange.slider(\"setValue\", value);\r\n      }\r\n    });\r\n    $(\".field-currency\").on(\"change\", function (e) {\r\n      let value = null;\r\n\r\n      // Get pure value\r\n      let ANObj = AutoNumeric.getAutoNumericElement($(this)[0]);\r\n      if (ANObj) {\r\n        value = ANObj.getNumber();\r\n      } else {\r\n        value = Number($(this).val());\r\n      }\r\n\r\n      // Min value\r\n      let min = $(this).data(\"min\");\r\n      if (min && value < Number(min)) {\r\n        value = Number(min);\r\n      }\r\n      $(this).val(value);\r\n    });\r\n\r\n    // Native range\r\n    $(\".field-range\").on(\"input\", function (e) {\r\n      let value = Number($(this).val());\r\n\r\n      // Connect number if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        let $number = $numberRangeWrap.find(\".field-number\");\r\n        $number.val(value);\r\n      }\r\n\r\n      // Connect currency if needed\r\n      let $currencyRangeWrap = $(this).closest(\r\n        \".field-currency-and-range-wrap\",\r\n      );\r\n      if ($currencyRangeWrap.length) {\r\n        let $number = $currencyRangeWrap.find(\".field-currency\");\r\n        $number.val(value);\r\n      }\r\n    });\r\n    $(\".field-range\").on(\"change\", function (e) {\r\n      // let value = Number($(this).val());\r\n\r\n      // Focus number if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        let $number = $numberRangeWrap.find(\".field-number\");\r\n        $number.get(0).focus();\r\n      }\r\n\r\n      // Focus currency if needed\r\n      let $currencyRangeWrap = $(this).closest(\r\n        \".field-currency-and-range-wrap\",\r\n      );\r\n      if ($currencyRangeWrap.length) {\r\n        let $number = $currencyRangeWrap.find(\".field-currency\");\r\n        $number.get(0).focus();\r\n      }\r\n    });\r\n\r\n    // Custom plugin range\r\n    $(\".custom-range-input\").each(function () {\r\n      $(this)\r\n        .slider()\r\n        .on(\"slide\", function () {\r\n          let value = Number($(this).slider(\"getValue\"));\r\n\r\n          // Connect number if needed\r\n          let $numberRangeWrap = $(this).closest(\r\n            \".field-number-and-range-wrap\",\r\n          );\r\n          if ($numberRangeWrap.length) {\r\n            let $number = $numberRangeWrap.find(\".field-number\");\r\n            $number.val(value);\r\n          }\r\n\r\n          // Connect currency if needed\r\n          let $currencyRangeWrap = $(this).closest(\r\n            \".field-currency-and-range-wrap\",\r\n          );\r\n          if ($currencyRangeWrap.length) {\r\n            let $number = $currencyRangeWrap.find(\".field-currency\");\r\n            $number.val(value);\r\n          }\r\n        });\r\n      $(this)\r\n        .slider()\r\n        .on(\"change\", function () {\r\n          let value = Number($(this).slider(\"getValue\"));\r\n\r\n          // Connect number if needed and update value\r\n          let $numberRangeWrap = $(this).closest(\r\n            \".field-number-and-range-wrap\",\r\n          );\r\n          if ($numberRangeWrap.length) {\r\n            let $number = $numberRangeWrap.find(\".field-number\");\r\n            $number.val(value);\r\n            $number.get(0).focus();\r\n          }\r\n\r\n          // Focus currency if needed and update value\r\n          let $currencyRangeWrap = $(this).closest(\r\n            \".field-currency-and-range-wrap\",\r\n          );\r\n          if ($currencyRangeWrap.length) {\r\n            let $number = $currencyRangeWrap.find(\".field-currency\");\r\n            $number.val(value);\r\n            $number.get(0).focus();\r\n          }\r\n        });\r\n    });\r\n\r\n    // Simple phone input mask\r\n    $(\".phone-input-mask\").on(\"keypress paste\", function (evt) {\r\n      // ^(\\([0-9]{3}\\)|[0-9]{3}-)[0-9]{3}-[0-9]{4}$\r\n      var theEvent = evt || window.event;\r\n\r\n      var key = null;\r\n      // Handle paste\r\n      if (theEvent.type === \"paste\") {\r\n        key = event.clipboardData.getData(\"text/plain\");\r\n      } else {\r\n        // Handle key press\r\n        key = theEvent.keyCode || theEvent.which;\r\n        key = String.fromCharCode(key);\r\n      }\r\n      var regex = /([0-9() +-])/;\r\n      if (!regex.test(key)) {\r\n        theEvent.returnValue = false;\r\n        if (theEvent.preventDefault) theEvent.preventDefault();\r\n      }\r\n    });\r\n\r\n    // Currency input mask\r\n    let currencyInputs = AutoNumeric.multiple(\".field-currency\", [\r\n      \"dotDecimalCharCommaSeparator\",\r\n      {\r\n        allowDecimalPadding: \"floats\",\r\n        currencySymbol: \" LAK\",\r\n        currencySymbolPlacement: \"s\",\r\n        watchExternalChanges: true,\r\n        selectOnFocus: false,\r\n        // maximumValue: 100000000,\r\n        // minimumValue: 50000,\r\n      },\r\n    ]);\r\n  });\r\n})(jQuery);\r\n\r\nfunction numberWithCommas(x) {\r\n  var parts = x.toString().split(\".\");\r\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  return parts.join(\".\");\r\n}\r\n\r\nvar colorArray = [\r\n  // Project colors\r\n  \"#e21221\",\r\n  \"#e67220\",\r\n  \"#f9bc4a\",\r\n  \"#eb8b89\",\r\n  \"#91959d\",\r\n  \"#65afd4\",\r\n  \"#e7baaa;\",\r\n  \"#00a9c1\",\r\n  \"#004669\",\r\n  \"#c3c5c8\",\r\n  \"#5d7481\",\r\n  \"#0099d5\",\r\n  //Random colors filler (google mat)\r\n  \"#F44336\",\r\n  \"#FFEBEE\",\r\n  \"#FFCDD2\",\r\n  \"#EF9A9A\",\r\n  \"#E57373\",\r\n  \"#EF5350\",\r\n  \"#F44336\",\r\n  \"#E53935\",\r\n  \"#D32F2F\",\r\n  \"#C62828\",\r\n  \"#B71C1C\",\r\n  \"#FF8A80\",\r\n  \"#FF5252\",\r\n  \"#FF1744\",\r\n  \"#D50000\",\r\n  \"#E91E63\",\r\n  \"#FCE4EC\",\r\n  \"#F8BBD0\",\r\n  \"#F48FB1\",\r\n  \"#F06292\",\r\n  \"#EC407A\",\r\n  \"#E91E63\",\r\n  \"#D81B60\",\r\n  \"#C2185B\",\r\n  \"#AD1457\",\r\n  \"#880E4F\",\r\n  \"#FF80AB\",\r\n  \"#FF4081\",\r\n  \"#F50057\",\r\n  \"#C51162\",\r\n  \"#9C27B0\",\r\n  \"#F3E5F5\",\r\n  \"#E1BEE7\",\r\n  \"#CE93D8\",\r\n  \"#BA68C8\",\r\n  \"#AB47BC\",\r\n  \"#9C27B0\",\r\n  \"#8E24AA\",\r\n  \"#7B1FA2\",\r\n  \"#6A1B9A\",\r\n  \"#4A148C\",\r\n  \"#EA80FC\",\r\n  \"#E040FB\",\r\n  \"#D500F9\",\r\n  \"#AA00FF\",\r\n  \"#673AB7\",\r\n  \"#EDE7F6\",\r\n  \"#D1C4E9\",\r\n  \"#B39DDB\",\r\n  \"#9575CD\",\r\n  \"#7E57C2\",\r\n  \"#673AB7\",\r\n  \"#5E35B1\",\r\n  \"#512DA8\",\r\n  \"#4527A0\",\r\n  \"#311B92\",\r\n  \"#B388FF\",\r\n  \"#7C4DFF\",\r\n  \"#651FFF\",\r\n  \"#6200EA\",\r\n  \"#3F51B5\",\r\n  \"#E8EAF6\",\r\n  \"#C5CAE9\",\r\n  \"#9FA8DA\",\r\n  \"#7986CB\",\r\n  \"#5C6BC0\",\r\n  \"#3F51B5\",\r\n  \"#3949AB\",\r\n  \"#303F9F\",\r\n  \"#283593\",\r\n  \"#1A237E\",\r\n  \"#8C9EFF\",\r\n  \"#536DFE\",\r\n  \"#3D5AFE\",\r\n  \"#304FFE\",\r\n  \"#2196F3\",\r\n  \"#E3F2FD\",\r\n  \"#BBDEFB\",\r\n  \"#90CAF9\",\r\n  \"#64B5F6\",\r\n  \"#42A5F5\",\r\n];\r\n"]}